/*
* Input, Textarea, Select
* Badge
* Button
* Card
* Alert
* Separator
* Label
* Search Input
* Checkbox & Radio
*/

/* --------------------
 * Color Palette Guide
 * --------------------
 * primary
 * secondary
 * muted
 * accent
 * destructive
 * --------------------
 */

/* 输入组件 Input, Textarea, Select 基础样式 */
@utility textarea {
  @apply border bg-background rounded-md placeholder-muted-foreground;
  @apply px-3 py-2 text-sm;
  @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  @apply disabled:cursor-not-allowed disabled:opacity-50;
  @apply transition-colors;
}

@utility select {
  @apply border bg-background rounded-md placeholder-muted-foreground;
  @apply px-3 py-2 text-sm;
  @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  @apply disabled:cursor-not-allowed disabled:opacity-50;
  @apply transition-colors;
}

@utility input {
  @apply border bg-background rounded-md placeholder-muted-foreground;
  @apply px-3 py-2 text-sm;
  @apply focus:outline-none transition-colors;
  @apply disabled:cursor-not-allowed disabled:opacity-50;
  @apply focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 focus-within:ring-offset-background;
}

@utility input-primary {
  @apply border-primary/30 focus-within:border-primary;
}

@utility select-primary {
  @apply border-primary/30 focus:border-primary;
}

@utility textarea-primary {
  @apply border-primary/30 focus:border-primary;
}

@utility input-secondary {
  @apply border-secondary/30 focus:border-secondary;
}

@utility select-secondary {
  @apply border-secondary/30 focus:border-secondary;
}

@utility textarea-secondary {
  @apply border-secondary/30 focus:border-secondary;
}

@utility input-muted {
  @apply border-muted/50 focus:border-muted;
}

@utility select-muted {
  @apply border-muted/50 focus:border-muted;
}

@utility textarea-muted {
  @apply border-muted/50 focus:border-muted;
}

@utility input-accent {
  @apply border-accent/30 focus:border-accent;
}

@utility select-accent {
  @apply border-accent/30 focus:border-accent;
}

@utility textarea-accent {
  @apply border-accent/30 focus:border-accent;
}

@utility input-destructive {
  @apply border-destructive/30 focus:border-destructive;
}

@utility select-destructive {
  @apply border-destructive/30 focus:border-destructive;
}

@utility textarea-destructive {
  @apply border-destructive/30 focus:border-destructive;
}

/* Badge 徽章组件 */
@utility badge {
  @apply inline-flex items-center rounded-full px-2.5 py-1;
  @apply text-xs font-semibold transition-colors;
  @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
}

@utility badge-primary {
  @apply bg-primary text-primary-foreground hover:bg-primary/80;
}

@utility badge-secondary {
  @apply bg-secondary text-secondary-foreground hover:bg-secondary/80;
}

@utility badge-destructive {
  @apply bg-destructive text-destructive-foreground hover:bg-destructive/80;
}

@utility badge-outline {
  @apply text-foreground border border-input hover:bg-accent hover:text-accent-foreground;
}

@utility badge-muted {
  @apply bg-muted text-muted-foreground hover:bg-muted/80;
}

@utility badge-accent {
  @apply bg-accent text-accent-foreground hover:bg-accent/80;
}
@utility badge-sm {
  @apply px-2 py-1;
}

@utility badge-lg {
  @apply px-3 py-1.5;
}

@utility badge-xl {
  @apply px-4 py-2;
}

/* Button 按钮组件 */
@utility btn {
  @apply inline-flex items-center justify-center gap-2;
  @apply rounded-md text-sm font-medium px-4 py-2;
  @apply transition-colors;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  @apply disabled:pointer-events-none disabled:opacity-50;
  @apply cursor-pointer;
}

@utility btn-primary {
  @apply bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm;
}

@utility btn-destructive {
  @apply bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm;
}

@utility btn-outline {
  @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
}

@utility btn-secondary {
  @apply bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm;
}

@utility btn-muted {
  @apply bg-muted text-muted-foreground hover:bg-muted/80 shadow-sm;
}

@utility btn-accent {
  @apply bg-accent text-accent-foreground hover:bg-accent/90 shadow-sm;
}

@utility btn-ghost {
  @apply hover:bg-accent hover:text-accent-foreground;
}

@utility btn-link {
  @apply text-primary underline-offset-4 hover:underline px-0;
}

@utility btn-xs {
  @apply h-7 text-xs rounded-xs px-2;
}

@utility btn-sm {
  @apply h-9 text-sm rounded-sm px-3;
}

@utility btn-lg {
  @apply h-11 text-lg rounded-md px-6;
}

@utility btn-icon {
  @apply h-10 w-10 p-0;
}

@utility btn-circle {
  @apply rounded-full;
}

/* Search Input 搜索输入框 */
@utility search-input {
  @apply flex items-center gap-2 h-12 px-2;
  @apply border border-input rounded-lg bg-background;
  @apply focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 focus-within:ring-offset-background;
  @apply transition-all;
}

@utility search-input-primary {
  @apply border-primary/30 focus-within:border-primary;
}

/* Checkbox & Radio */
@utility checkbox {
  @apply h-4 w-4 shrink-0 rounded-sm border border-primary;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  @apply disabled:cursor-not-allowed disabled:opacity-50;
  @apply data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground;
}

@utility radio {
  @apply h-4 w-4 shrink-0 rounded-full border border-primary;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  @apply disabled:cursor-not-allowed disabled:opacity-50;
  @apply data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground;
}

/* Card 卡片组件 */
@utility card {
  @apply rounded-xl border bg-card text-card-foreground shadow-sm;
  &:hover {
    @apply shadow-xl;
  }
}

@utility card-deco {
  @apply relative;

  &::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-1 bg-gradient-to-r;
  }
}

@utility card-deco-primary {
  &::before {
    @apply from-primary/70 via-primary to-primary/70;
  }
}

@utility card-* {
  &-header {
    @apply flex flex-col space-y-1.5 p-6;
  }

  &-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }

  &-description {
    @apply text-sm text-muted-foreground;
  }

  &-content {
    @apply p-6 pt-0;
  }

  &-footer {
    @apply flex items-center p-6 pt-0;
  }
}

/* 图片处理 */

@utility image {
  @apply w-full h-full object-cover;
}

@utility image-mask {
  @apply bg-gradient-to-t;
  @apply absolute inset-0;
  @apply opacity-0 group-hover:opacity-100 transition-opacity duration-300;
  @apply from-black/80 via-black/40 to-transparent;
}

/* Separator 分隔线 */
@utility separator {
  @apply shrink-0 bg-border;
}

@utility separator-* {
  &-horizontal {
    @apply h-[1px] w-full;
  }

  &-vertical {
    @apply h-full w-[1px];
  }
}

/* Label 标签 */
@utility label {
  @apply text-sm font-medium leading-none;
  @apply peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
}

/* Skeleton 骨架屏 */
@utility skeleton {
  @apply animate-pulse rounded-md bg-muted;
}

/* Dialog 对话框 */
@utility dialog {
  @apply invisible fixed inset-0 grid h-full w-full items-center justify-items-center bg-transparent p-0;
  overflow: hidden;
  overscroll-behavior: contain;
  z-index: 999;
  transition:
    visibility 0.3s allow-discrete,
    background-color 0.3s ease-out;

  &::backdrop {
    @apply hidden;
  }

  &[open] {
    @apply visible;
    background-color: oklch(0% 0 0 / 0.4);
    .dialog-body {
      scale: 1;
      opacity: 1;
    }
  }

  @starting-style {
    &[open] {
      @apply invisible; /* dialog 打开瞬间从 invisible 开始 */
    }
  }
}

@utility dialog-body {
  @apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
  @apply flex flex-col p-6 w-96 max-w-11/12  max-h-11/12;
  @apply bg-card rounded-lg card;
  scale: 0.95;
  opacity: 0;
  overflow-y: auto;
  transition:
    scale 0.3s ease-out,
    opacity 0.2s ease-out 0.05s;
}
